{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/Louis/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/Louis/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Desktop/Louis/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState}from\"react\";import ErrorOverlay from\"../overlays/ErrorOverlay\";import SuccessOverlay from\"../overlays/SuccessOverlay\";import classes from\"./Fitness.module.css\";import FitnessPosts from\"./FitnessPosts\";import LoadingSpinner from\"../UI/LoadingSpinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Fitness=function Fitness(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSent=_useState4[0],setIsSent=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var authorRef=useRef();var titleRef=useRef();var textRef=useRef();var postHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var auther,title,text,current,time,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:auther=authorRef.current.value.trim();title=titleRef.current.value.trim();text=textRef.current.value.trim();setIsLoading(true);if(!(auther.length<2||title.length<2||text.length<2)){_context.next=9;break;}setError(\"One or more inputs are too short.\");setIsLoading(false);_context.next=15;break;case 9:current=new Date();time=\"\".concat(current.getDate(),\"/\").concat(current.getMonth()+1,\"/\").concat(current.getFullYear(),\" at \").concat(current.getHours(),\":\").concat(current.getMinutes());_context.next=13;return fetch(\"https://react-http-b58c9-default-rtdb.firebaseio.com/fitness.json\",{method:\"POST\",body:JSON.stringify({author:authorRef.current.value,title:titleRef.current.value,text:textRef.current.value,date:time}),headers:{\"Content-Type\":\"application/json\"}});case 13:response=_context.sent;if(!response.ok){setError(\"Connection to firebase failed.\");setIsLoading(false);}else{authorRef.current.value=\"\";titleRef.current.value=\"\";textRef.current.value=\"\";setIsSent(true);}case 15:case\"end\":return _context.stop();}}},_callee);}));return function postHandler(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[error!==\"\"&&/*#__PURE__*/_jsx(ErrorOverlay,{text:error,onConfirm:function onConfirm(){setError(\"\");}}),isSent&&/*#__PURE__*/_jsx(SuccessOverlay,{text:\"Post Sent!\",onConfirm:function onConfirm(){setIsSent(false);setIsLoading(false);}}),/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(\"h2\",{className:classes.headline_top,children:\"Add new Post\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{className:classes.headline,children:\"Author:\"}),/*#__PURE__*/_jsx(\"textarea\",{className:classes.input_author,maxLength:\"25\",ref:authorRef}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{className:classes.headline,children:\"Title:\"}),/*#__PURE__*/_jsx(\"textarea\",{className:classes.input_title,maxLength:\"25\",ref:titleRef}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{className:classes.headline,children:\"Content:\"}),/*#__PURE__*/_jsx(\"textarea\",{maxLength:\"800\",type:\"textarea\",name:\"textValue\",className:classes.input_text,ref:textRef}),/*#__PURE__*/_jsx(\"br\",{}),!isLoading&&/*#__PURE__*/_jsx(\"button\",{className:classes.btn,onClick:postHandler,children:\"Post\"}),isLoading&&/*#__PURE__*/_jsx(LoadingSpinner,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(\"h2\",{className:classes.headline_top,children:\"Posts:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(FitnessPosts,{})]})]});};export default Fitness;","map":{"version":3,"names":["useRef","useState","ErrorOverlay","SuccessOverlay","classes","FitnessPosts","LoadingSpinner","Fitness","error","setError","isSent","setIsSent","isLoading","setIsLoading","authorRef","titleRef","textRef","postHandler","auther","current","value","trim","title","text","length","Date","time","getDate","getMonth","getFullYear","getHours","getMinutes","fetch","method","body","JSON","stringify","author","date","headers","response","ok","container","headline_top","headline","input_author","input_title","input_text","btn"],"sources":["C:/Users/User/Desktop/Louis/src/components/home/Fitness.js"],"sourcesContent":["import { useRef, useState } from \"react\";\r\nimport ErrorOverlay from \"../overlays/ErrorOverlay\";\r\nimport SuccessOverlay from \"../overlays/SuccessOverlay\";\r\nimport classes from \"./Fitness.module.css\";\r\nimport FitnessPosts from \"./FitnessPosts\";\r\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\r\n\r\nconst Fitness = () => {\r\n  const [error, setError] = useState(\"\");\r\n  const [isSent, setIsSent] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const authorRef = useRef();\r\n  const titleRef = useRef();\r\n  const textRef = useRef();\r\n  const postHandler = async () => {\r\n    const auther = authorRef.current.value.trim();\r\n    const title = titleRef.current.value.trim();\r\n    const text = textRef.current.value.trim();\r\n    setIsLoading(true);\r\n\r\n    if (auther.length < 2 || title.length < 2 || text.length < 2) {\r\n      setError(\"One or more inputs are too short.\");\r\n      setIsLoading(false);\r\n    } else {\r\n      const current = new Date();\r\n      const time = `${current.getDate()}/${\r\n        current.getMonth() + 1\r\n      }/${current.getFullYear()} at ${current.getHours()}:${current.getMinutes()}`;\r\n      const response = await fetch(\r\n        \"https://react-http-b58c9-default-rtdb.firebaseio.com/fitness.json\",\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify({\r\n            author: authorRef.current.value,\r\n            title: titleRef.current.value,\r\n            text: textRef.current.value,\r\n            date: time,\r\n          }),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        setError(\"Connection to firebase failed.\");\r\n        setIsLoading(false);\r\n      } else {\r\n        authorRef.current.value = \"\";\r\n        titleRef.current.value = \"\";\r\n        textRef.current.value = \"\";\r\n        setIsSent(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {error !== \"\" && (\r\n        <ErrorOverlay\r\n          text={error}\r\n          onConfirm={() => {\r\n            setError(\"\");\r\n          }}\r\n        />\r\n      )}\r\n      {isSent && (\r\n        <SuccessOverlay\r\n          text=\"Post Sent!\"\r\n          onConfirm={() => {\r\n            setIsSent(false);\r\n            setIsLoading(false);\r\n          }}\r\n        />\r\n      )}\r\n      <div className={classes.container}>\r\n        <h2 className={classes.headline_top}>Add new Post</h2>\r\n        <br />\r\n        <h1 className={classes.headline}>Author:</h1>\r\n        <textarea\r\n          className={classes.input_author}\r\n          maxLength=\"25\"\r\n          ref={authorRef}\r\n        />\r\n        <br />\r\n        <h1 className={classes.headline}>Title:</h1>\r\n        <textarea\r\n          className={classes.input_title}\r\n          maxLength=\"25\"\r\n          ref={titleRef}\r\n        />\r\n        <br />\r\n        <h1 className={classes.headline}>Content:</h1>\r\n        <textarea\r\n          maxLength=\"800\"\r\n          type=\"textarea\"\r\n          name=\"textValue\"\r\n          className={classes.input_text}\r\n          ref={textRef}\r\n        />\r\n        <br />\r\n        {!isLoading && (\r\n          <button className={classes.btn} onClick={postHandler}>\r\n            Post\r\n          </button>\r\n        )}\r\n        {isLoading && <LoadingSpinner />}\r\n      </div>\r\n      <div className={classes.container}>\r\n        <h2 className={classes.headline_top}>Posts:</h2>\r\n        <br />\r\n        <br />\r\n        <FitnessPosts />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Fitness;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}